<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Make a Event</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    display: flex;
    height: 100vh;
    background: #1e1e1e;
    color: #fff;
  }
  .left {
    flex: 2;
    padding: 20px;
    border-right: 2px solid #444;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 20px;
  }
  .right {
    flex: 1;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 15px;
    background: #2b2b2b;
  }
  input, select, textarea {
    width: 100%;
    padding: 5px;
    border-radius: 5px;
    border: none;
    margin-top: 5px;
  }
  input[type="range"] {
    width: 100%;
  }
  img {
    max-width: 250px;
    max-height: 250px;
    object-fit: contain;
    border: 2px solid #fff;
  }
  h2 {
    margin: 0;
  }
  .result {
    background: #333;
    padding: 10px;
    border-radius: 5px;
  }
</style>
</head>
<body>

<div class="left">
  <h2 id="eventName">Nom de l'événement</h2>
  <img id="eventLogo" src="" alt="Logo">
  <p id="eventDescription">Description de l'événement</p>
  <div class="result">
    <p>Participants estimés : <span id="participants">0</span></p>
    <p>Profit estimé : <span id="profit">0</span> €</p>
  </div>
</div>

<div class="right">
  <label>Nom de l'événement:
    <input type="text" id="nameInput" placeholder="Nom de l'événement">
  </label>

  <label>Upload logo:
    <input type="file" id="logoInput" accept="image/*">
  </label>

  <label>Description:
    <textarea id="descInput" placeholder="Description pour attirer les participants"></textarea>
  </label>

  <label>Type d'événement:
    <select id="typeSelect">
      <option value="concert">Concert</option>
      <option value="conference">Conférence</option>
      <option value="exposition">Exposition</option>
      <option value="fete">Fête</option>
    </select>
  </label>

  <label>Prix du ticket (€):
    <input type="number" id="priceInput" value="10" min="1">
  </label>

  <label>Budget marketing (€):
    <input type="number" id="marketingInput" value="50" min="0">
  </label>
</div>

<script>
const eventName = document.getElementById('eventName');
const eventLogo = document.getElementById('eventLogo');
const eventDescription = document.getElementById('eventDescription');
const participantsDisplay = document.getElementById('participants');
const profitDisplay = document.getElementById('profit');

const nameInput = document.getElementById('nameInput');
const logoInput = document.getElementById('logoInput');
const descInput = document.getElementById('descInput');
const typeSelect = document.getElementById('typeSelect');
const priceInput = document.getElementById('priceInput');
const marketingInput = document.getElementById('marketingInput');

const baseParticipants = {
  concert: 150,
  conference: 80,
  exposition: 100,
  fete: 120
};

function updatePreview() {
  const name = nameInput.value || "Nom de l'événement";
  const desc = descInput.value || "Description de l'événement";
  const type = typeSelect.value;
  const price = parseFloat(priceInput.value) || 1;
  const marketing = parseFloat(marketingInput.value) || 0;

  eventName.textContent = name;
  eventDescription.textContent = desc;

  // Attractivité : description + marketing
  let attractivity = 1 + Math.min(desc.length / 100, 0.5) + Math.min(marketing / 500, 0.5);

  // Participants : base * attractivité * prix influence
  const maxPrice = 50; // prix maximum réaliste
  let participants = Math.floor(baseParticipants[type] * attractivity * Math.max(0.1, maxPrice / price));
  
  // Profit
  const profit = Math.floor((participants * price) - marketing);

  participantsDisplay.textContent = participants;
  profitDisplay.textContent = profit;
}

// Logo upload
logoInput.addEventListener('change', (e) => {
  const file = e.target.files[0];
  if(file) {
    const reader = new FileReader();
    reader.onload = function(evt) {
      eventLogo.src = evt.target.result;
    }
    reader.readAsDataURL(file);
  }
  updatePreview();
});

// Inputs update
[nameInput, descInput, typeSelect, priceInput, marketingInput].forEach(el => {
  el.addEventListener('input', updatePreview);
});

// Initial preview
updatePreview();
</script>

</body>
</html>
